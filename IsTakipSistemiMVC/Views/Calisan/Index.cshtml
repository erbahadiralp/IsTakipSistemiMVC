@model IsTakipSistemiMVC.Models.Personeller

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutCalisan.cshtml";
    var sonDuyurular = ViewBag.SonDuyurular as List<IsTakipSistemiMVC.Models.Duyurular>;
}

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">


<div class="container mt-4">
    <div class="row">

        <!-- Duyurular Kartı -->
        <!-- İş Duyuru Kartı -->


        <div class="col-lg-4 mb-4">
            <div class="card shadow-sm small-card card-color-1 h-100">
                <div class="card-body text-center">
                    <h4 class="card-title">Duyurular</h4>
                    @if (sonDuyurular != null && sonDuyurular.Any())
                    {
                        foreach (var duyuru in sonDuyurular)
                        {
                            <div class="announcement-card mb-3">
                                <h6>@duyuru.duyuruBaslik</h6>
                                <p class="card-text">@duyuru.duyuruIcerik</p>
                                <p class="card-text"><small class="text-muted">@duyuru.duyuruTarih.ToShortDateString()</small></p>
                            </div>
                        }
                    }
                    else
                    {
                        <p class="card-text">Henüz duyuru bulunmamaktadır.</p>
                    }
                </div>
            </div>
        </div>

        <div class="col-lg-4 mb-4">
            @if (ViewBag.isler != null && ViewBag.isler.Count > 0)
            {
                <div id="jobCarousel" class="carousel slide" data-ride="carousel">
                    <div class="carousel-inner">
                        @for (int i = 0; i < ViewBag.isler.Count; i++)
                        {
                            var isItem = ViewBag.isler[i];
                            <div class="carousel-item @(i == 0 ? "active" : "")">
                                <div class="card border-info shadow-sm job-card">
                                    <div class="card-header text-center">
                                        Yeni İş!!!
                                    </div>
                                    <div class="card-body">
                                        <input type="hidden" name="isId" value="@isItem.isId" />
                                        <div class="mb-2 font-weight-bold">
                                            @isItem.isBaslik
                                        </div>
                                    </div>
                                    <div class="card-footer text-center">
                                        <form action="@Url.Action("Index", "Calisan")" method="post">
                                            <input type="hidden" name="isId" value="@isItem.isId" />
                                            <button type="submit" class="btn btn-outline-info">Okundu İşaretle</button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        }
                    </div>
                    <a class="carousel-control-prev" href="#jobCarousel" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#jobCarousel" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            }
            else
            {
                <div class="card shadow-sm alert-warning">
                    <div class="card-body">
                        <h5 class="card-title">İş</h5>
                        <p class="card-text">Yeni işiniz yok!</p>
                    </div>
                </div>
            }
        </div>


        <div class="col-sm-12 col-md-6 col-lg-4">
            <div class="bg-secondary rounded p-4">
                <div class="d-flex align-items-center justify-content-between mb-4">
                    <h6 class="mb-0">Takvim</h6>
                </div>
                <div id="calender"><div class="bootstrap-datetimepicker-widget usetwentyfour"><ul class="list-unstyled"><li class="show"><div class="datepicker"><div class="datepicker-days" style=""><table class="table table-sm"><thead><tr><th class="prev" data-action="previous"><span class="fa fa-chevron-left" title="Previous Month"></span></th><th class="picker-switch text-center" data-action="pickerSwitch" colspan="5" title="Select Month">August 2024</th><th class="next" data-action="next"><span class="fa fa-chevron-right" title="Next Month"></span></th></tr><tr><th class="dow">Su</th><th class="dow">Mo</th><th class="dow">Tu</th><th class="dow">We</th><th class="dow">Th</th><th class="dow">Fr</th><th class="dow">Sa</th></tr></thead><tbody><tr><td data-action="selectDay" data-day="07/28/2024" class="day old weekend">28</td><td data-action="selectDay" data-day="07/29/2024" class="day old">29</td><td data-action="selectDay" data-day="07/30/2024" class="day old">30</td><td data-action="selectDay" data-day="07/31/2024" class="day old">31</td><td data-action="selectDay" data-day="08/01/2024" class="day">1</td><td data-action="selectDay" data-day="08/02/2024" class="day active today">2</td><td data-action="selectDay" data-day="08/03/2024" class="day weekend">3</td></tr><tr><td data-action="selectDay" data-day="08/04/2024" class="day weekend">4</td><td data-action="selectDay" data-day="08/05/2024" class="day">5</td><td data-action="selectDay" data-day="08/06/2024" class="day">6</td><td data-action="selectDay" data-day="08/07/2024" class="day">7</td><td data-action="selectDay" data-day="08/08/2024" class="day">8</td><td data-action="selectDay" data-day="08/09/2024" class="day">9</td><td data-action="selectDay" data-day="08/10/2024" class="day weekend">10</td></tr><tr><td data-action="selectDay" data-day="08/11/2024" class="day weekend">11</td><td data-action="selectDay" data-day="08/12/2024" class="day">12</td><td data-action="selectDay" data-day="08/13/2024" class="day">13</td><td data-action="selectDay" data-day="08/14/2024" class="day">14</td><td data-action="selectDay" data-day="08/15/2024" class="day">15</td><td data-action="selectDay" data-day="08/16/2024" class="day">16</td><td data-action="selectDay" data-day="08/17/2024" class="day weekend">17</td></tr><tr><td data-action="selectDay" data-day="08/18/2024" class="day weekend">18</td><td data-action="selectDay" data-day="08/19/2024" class="day">19</td><td data-action="selectDay" data-day="08/20/2024" class="day">20</td><td data-action="selectDay" data-day="08/21/2024" class="day">21</td><td data-action="selectDay" data-day="08/22/2024" class="day">22</td><td data-action="selectDay" data-day="08/23/2024" class="day">23</td><td data-action="selectDay" data-day="08/24/2024" class="day weekend">24</td></tr><tr><td data-action="selectDay" data-day="08/25/2024" class="day weekend">25</td><td data-action="selectDay" data-day="08/26/2024" class="day">26</td><td data-action="selectDay" data-day="08/27/2024" class="day">27</td><td data-action="selectDay" data-day="08/28/2024" class="day">28</td><td data-action="selectDay" data-day="08/29/2024" class="day">29</td><td data-action="selectDay" data-day="08/30/2024" class="day">30</td><td data-action="selectDay" data-day="08/31/2024" class="day weekend">31</td></tr><tr><td data-action="selectDay" data-day="09/01/2024" class="day new weekend">1</td><td data-action="selectDay" data-day="09/02/2024" class="day new">2</td><td data-action="selectDay" data-day="09/03/2024" class="day new">3</td><td data-action="selectDay" data-day="09/04/2024" class="day new">4</td><td data-action="selectDay" data-day="09/05/2024" class="day new">5</td><td data-action="selectDay" data-day="09/06/2024" class="day new">6</td><td data-action="selectDay" data-day="09/07/2024" class="day new weekend">7</td></tr></tbody></table></div><div class="datepicker-months" style="display: none;"><table class="table-condensed"><thead><tr><th class="prev" data-action="previous"><span class="fa fa-chevron-left" title="Previous Year"></span></th><th class="picker-switch" data-action="pickerSwitch" colspan="5" title="Select Year">2024</th><th class="next" data-action="next"><span class="fa fa-chevron-right" title="Next Year"></span></th></tr></thead><tbody><tr><td colspan="7"><span data-action="selectMonth" class="month">Jan</span><span data-action="selectMonth" class="month">Feb</span><span data-action="selectMonth" class="month">Mar</span><span data-action="selectMonth" class="month">Apr</span><span data-action="selectMonth" class="month">May</span><span data-action="selectMonth" class="month">Jun</span><span data-action="selectMonth" class="month">Jul</span><span data-action="selectMonth" class="month active">Aug</span><span data-action="selectMonth" class="month">Sep</span><span data-action="selectMonth" class="month">Oct</span><span data-action="selectMonth" class="month">Nov</span><span data-action="selectMonth" class="month">Dec</span></td></tr></tbody></table></div><div class="datepicker-years" style="display: none;"><table class="table-condensed"><thead><tr><th class="prev" data-action="previous"><span class="fa fa-chevron-left" title="Previous Decade"></span></th><th class="picker-switch" data-action="pickerSwitch" colspan="5" title="Select Decade">2020-2029</th><th class="next" data-action="next"><span class="fa fa-chevron-right" title="Next Decade"></span></th></tr></thead><tbody><tr><td colspan="7"><span data-action="selectYear" class="year old">2019</span><span data-action="selectYear" class="year">2020</span><span data-action="selectYear" class="year">2021</span><span data-action="selectYear" class="year">2022</span><span data-action="selectYear" class="year">2023</span><span data-action="selectYear" class="year active">2024</span><span data-action="selectYear" class="year">2025</span><span data-action="selectYear" class="year">2026</span><span data-action="selectYear" class="year">2027</span><span data-action="selectYear" class="year">2028</span><span data-action="selectYear" class="year">2029</span><span data-action="selectYear" class="year old">2030</span></td></tr></tbody></table></div><div class="datepicker-decades" style="display: none;"><table class="table-condensed"><thead><tr><th class="prev" data-action="previous"><span class="fa fa-chevron-left" title="Previous Century"></span></th><th class="picker-switch" data-action="pickerSwitch" colspan="5">2000-2090</th><th class="next" data-action="next"><span class="fa fa-chevron-right" title="Next Century"></span></th></tr></thead><tbody><tr><td colspan="7"><span data-action="selectDecade" class="decade old" data-selection="2006">1990</span><span data-action="selectDecade" class="decade" data-selection="2006">2000</span><span data-action="selectDecade" class="decade" data-selection="2016">2010</span><span data-action="selectDecade" class="decade active" data-selection="2026">2020</span><span data-action="selectDecade" class="decade" data-selection="2036">2030</span><span data-action="selectDecade" class="decade" data-selection="2046">2040</span><span data-action="selectDecade" class="decade" data-selection="2056">2050</span><span data-action="selectDecade" class="decade" data-selection="2066">2060</span><span data-action="selectDecade" class="decade" data-selection="2076">2070</span><span data-action="selectDecade" class="decade" data-selection="2086">2080</span><span data-action="selectDecade" class="decade" data-selection="2096">2090</span><span data-action="selectDecade" class="decade old" data-selection="2106">2100</span></td></tr></tbody></table></div></div></li><li class="picker-switch accordion-toggle"></li></ul></div></div>
            </div>
        </div>
    </div>

    <div class="row">
        <!-- Çalışanlar Kartı -->
        <div class="col-lg-6 mb-4">
            <div class="card shadow-sm personal-card h-100">
                <div class="card-body text-center">
                    <h4 class="card-title">Çalışanlar</h4>
                    <div class="table-responsive">
                        <table class="table table-hover employee-table">
                            <thead class="employee-table-header">
                                <tr class="text-center">
                                    <th>Ad Soyad</th>
                                    <th>Dahili Telefon Numara</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var personel in ViewBag.personeller)
                                {
                                    <tr class="text-center">
                                        <td>@personel.personelAdSoyad</td>
                                        <td>@personel.personelDahili</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Yemek Tablosu Kartı -->
        <div class="col-lg-6 mb-4">
            <div class="card shadow-sm meal-card h-100">
                <div class="card-body text-center">
                    <h5 class="card-title">Yemek Tablosu</h5>
                    <p class="card-text">
                        @{
                            var bugunYemek = ViewBag.BugunYemek as IsTakipSistemiMVC.Models.YemekTablo;
                        }
                        @if (bugunYemek != null)
                        {
                            <ul class="list-group mb-2">
                                <li class="list-group-item"> @bugunYemek.YemekAdi1</li>
                                <li class="list-group-item"> @bugunYemek.YemekAdi2</li>
                                <li class="list-group-item"> @bugunYemek.YemekAdi3</li>
                                <li class="list-group-item"> @bugunYemek.YemekAdi4</li>
                                <li class="list-group-item"> @bugunYemek.YemekAdi5</li>
                                <li class="list-group-item"> @bugunYemek.YemekAdi6</li>
                                <li class="list-group-item"> @bugunYemek.YemekAdi7</li>
                                <li class="list-group-item"> @bugunYemek.YemekAdi8</li>
                            </ul>
                        }
                        else
                        {
                        <p>Bugün için yemek menüsü bulunmamaktadır.</p>
                    }
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <style>
        /* Genel kart stili */
        .card {
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s;
        }

            .card:hover {
                transform: translateY(-5px);
                box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            }

        /* Çalışanlar Kartı Stili */
        .personal-card {
            background-color: #ffffff;
            border-left: 5px solid #17a2b8;
        }

        /* İş Kartı Stili */
        .job-card {
            background-color: #f8f9fa;
            border-left: 5px solid #28a745;
        }

            .job-card .card-header {
                background-color: #28a745;
                color: #ffffff;
            }

        /* Duyuru Kartı Stili */
        .small-card.card-color-1 {
            background-color: #81c784;
            border: 1px solid #ffb74d; /* Koyu Turuncu */
        }

        .announcement-card {
            padding: 15px;
            background-color: #ffffff;
            border-radius: 10px;
            border-left: 5px solid #007bff;
            transition: background-color 0.2s;
        }

            .announcement-card:hover {
                background-color: #f0f8ff;
            }

        /* Yemek Tablosu Kartı Stili */
        .meal-card {
            padding: 15px;
            background-color: #f3e5f5; /* Açık Menekşe */
            border: 1px solid #ab47bc; /* Koyu Menekşe */
            border-left: 5px solid #ab47bc; /* Koyu Menekşe */
        }

            .meal-card ul {
                list-style: none;
                padding-left: 0;
            }

            .meal-card li {
                background-color: #ffffff; /* White */
                margin-bottom: 5px;
                padding: 10px;
                border-radius: 5px;
                border-left: 5px solid #ab47bc; /* Koyu Menekşe */
            }

        /* Genel başlık stili */
        .card-title {
            color: #343a40;
            font-weight: bold;
        }

        .table thead {
            background-color: #007bff;
            color: #ffffff;
        }

        .table tbody tr:hover {
            background-color: #f1f1f1;
        }

        .bg-secondary {
            background-color: #f0f0f0 !important;
        }

            .bg-secondary .card-header {
                background-color: #6c757d;
                color: #ffffff;
            }

        .datepicker table {
            width: 100%;
            background-color: #ffffff;
        }

        .datepicker .day, .datepicker .dow {
            color: #333333;
        }

            .datepicker .day.old, .datepicker .day.new {
                color: #999999;
            }

            .datepicker .day.active, .datepicker .day.today {
                background-color: #007bff;
                color: #ffffff;
            }

            .datepicker .day.weekend {
                color: #dc3545;
            }

        .datepicker .prev span, .datepicker .next span {
            color: #007bff;
        }

        .datepicker .picker-switch {
            color: #ffffff;
        }
    </style>

